<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Coupon_name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-coupon_name" data-rule="required" class="form-control form-control" name="row[coupon_name]" type="text" value="{$row.coupon_name}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Circulation')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-circulation" data-rule="required" class="form-control form-control" name="row[circulation]" type="number" value="{$row.circulation}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Display_diagramimages')}:</label>
        <div class="col-xs-12 col-sm-8">
            <div class="input-group">
                <input id="c-display_diagramimages" data-rule="required" class="form-control form-control" size="50" name="row[display_diagramimages]" type="text" value="{$row.display_diagramimages}">
                <div class="input-group-addon no-border no-padding">
                    <span><button type="button" id="plupload-display_diagramimages" class="btn btn-danger plupload" data-input-id="c-display_diagramimages" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="true" data-preview-id="p-display_diagramimages"><i class="fa fa-upload"></i> {:__('Upload')}</button></span>
                    <span><button type="button" id="fachoose-display_diagramimages" class="btn btn-primary fachoose" data-input-id="c-display_diagramimages" data-mimetype="image/*" data-multiple="true"><i class="fa fa-list"></i> {:__('Choose')}</button></span>
                </div>
                <span class="msg-box n-right" for="c-display_diagramimages"></span>
            </div>
            <ul class="row list-inline plupload-preview" id="p-display_diagramimages"></ul>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Membership_grade')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-membership_grade" class="form-control form-control" name="row[membership_grade]" type="number" value="{$row.membership_grade}">
        </div>
    </div>

    <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Threshold')}:</label>
            <div class="col-xs-12 col-sm-8">
                
                <div class="radio">
                    
                    <label for="">
                        <input id="" name="threshold" type="radio" value="0" onchange="changeFun(this)"> 全场通用 </input> 
                    </label>
                    <label for="">
                        <input id="" name="threshold" type="radio" value="1" onchange="changeFun(this)"> 满 
                            <input id="c-threshold"  name="row[threshold]" type="text" value="{$row.threshold}" disabled> 金额可用 
                        </input> 
                    </label>
                    
                </div>
            </div>
        </div>
        <script type="text/javascript">
    
            function changeFun(that) {
                var models = document.getElementById('models-view');
                console.log(that.value);
    
                if (that.value == '0') {
    
                    models.style.setProperty('display', 'none', 'important');
                    
    
                } else {
    
                    models.style.setProperty('display', 'block', 'important');
    
                    $("#c-threshold").removeAttr("disabled");
                    
                }
    
            }
    
            function changeFun1(that) {
                
                if (that.value == '0') { 
    
                } else {
    
                    $("#c-limit_collar").removeAttr("disabled");
                    
                }
    
            }
    
            function changeFun2(that) {
    
                if (that.value == '0') {
    
                } else {
    
                    $("#c-release_datetime").removeAttr("disabled");
    
                }
    
            }
    
            function changeFun3(that) {
        
                if (that.value == '0') {
    
                } else {
    
                    $("#c-validity_datetime").removeAttr("disabled");
    
                }
    
            }
    
        </script>
        <div id="models-view" style="display: none">
            <div class="form-group">
                <label class="control-label col-xs-12 col-sm-2">{:__('Models_ids')}:</label>
                <div class="col-xs-12 col-sm-8">
                    <input id="c-models_ids" data-source="planmanagement/models/index" data-multiple="true" class="form-control selectpage form-control" name="row[models_ids]" type="text" value="{$row.models_ids}">
                </div>
            </div>
        </div>
    
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Limit_collar')}:</label>
            <div class="col-xs-12 col-sm-8">
                
                <div class="radio">
                    
                    <label for="">
                        <input id="" name="limit_collar" type="radio" value="0" onchange="changeFun1(this)"> 不限 </input> 
                    </label>
                    <label for="">
                        <input id="" name="limit_collar" type="radio" value="1" onchange="changeFun1(this)">可以领 
                            <input id="c-limit_collar"  name="row[limit_collar]" type="text" value="{$row.limit_collar}" disabled> 张 
                        </input> 
                    </label>
                    
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Release_datetime')}:</label>
            <div class="col-xs-12 col-sm-8">
                
                <div class="radio">
    
                    <label for="">
                        <input id="" name="release_datetime" type="radio" value="0" onchange="changeFun2(this)"> 长期有效 </input> 
                    </label>
                    <label for="">
                        <input id="" name="release_datetime" type="radio" value="1" onchange="changeFun2(this)"> 截至某日之前有效:
                            <input id="c-release_datetime" class="datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[release_datetime]" type="text" value="{$row.release_datetime}" disabled>
                        </input> 
                    </label> 
                    
                </div>
            </div>
        </div>
        <div class="form-group">
            <label class="control-label col-xs-12 col-sm-2">{:__('Validity_datetime')}:</label>
            <div class="col-xs-12 col-sm-8">
                
                <div class="radio">
                    
                    <label for="">
                        <input id="" name="validity_datetime" type="radio" value="0" onchange="changeFun3(this)"> 长期有效 </input>
                    </label>
                    <label for="">
                        <input id="" name="validity_datetime" type="radio" value="1" onchange="changeFun3(this)"> 截至某日之前有效:
                            <input id="c-validity_datetime" class="datetimepicker" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[validity_datetime]" type="text" value="{$row.validity_datetime}" disabled>
                        </input> 
                    </label>
                    
                </div>
            </div>
        </div>

    <!-- <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Threshold')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-threshold" data-rule="required" class="form-control form-control" name="row[threshold]" type="text" value="{$row.threshold}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Models_ids')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-models_ids" data-rule="required" data-source="models/index" data-multiple="true" class="form-control selectpage form-control" name="row[models_ids]" type="text" value="{$row.models_ids}">
        </div>
    </div>
   
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Limit_collar')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-limit_collar" class="form-control form-control" name="row[limit_collar]" type="text" value="{$row.limit_collar}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Release_datetime')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-release_datetime" class="form-control datetimepicker form-control" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[release_datetime]" type="text" value="{$row.release_datetime|datetime}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Validity_datetime')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-validity_datetime" class="form-control datetimepicker form-control" data-date-format="YYYY-MM-DD HH:mm:ss" data-use-current="true" name="row[validity_datetime]" type="text" value="{$row.validity_datetime|datetime}">
        </div>
    </div> -->
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-success btn-embossed disabled">{:__('OK')}</button>
            <button type="reset" class="btn btn-default btn-embossed">{:__('Reset')}</button>
        </div>
    </div>
</form>
